import{g as ee,h as T,f as J,S as te,L as ne,G as oe,i as ue,M as le,j as re,F as ae,k as se,l as ce,R as ie,m as de,U as Ve,C as Q}from"./vendor-1e70d1e5.js";import{P as H,_ as b,u as X,a as U,b as pe,c as me,i as he}from"./index-6f9c12d4.js";import{u as z}from"./useProjectSetting-247156d1.js";import{_ as fe}from"./logo-44f27a9b.js";import{u as ve}from"./useDesignSetting-2272415f.js";function K(e){return e.filter(t=>{var n;return(((n=t.meta)==null?void 0:n.hidden)||!1)!=!0&&!["/:path(.*)*","/",H.REDIRECT,H.BASE_LOGIN].includes(t.path)})}function W(e){var t,n;return((t=e.meta)==null?void 0:t.alwaysShow)!=!0&&((n=e.children)==null?void 0:n.length)===1}function Y(e){return K(e).map(t=>{var s;const o=W(t)?t.children[0]:t,c={...o,...o.meta,label:(s=o.meta)==null?void 0:s.title,key:o.name};return o.children&&o.children.length>0&&(c.children=Y(o.children)),c})}function _e(e,t,n){const o=ee(e),c=K(o);if(n==="header"){const s=[];return c.forEach(l=>{var w;const r=W(l)?l.children[0]:l;r.children=void 0;const u={...r,...r.meta,label:(w=r.meta)==null?void 0:w.title,key:r.name};s.push(u)}),s}else return Y(c.filter(s=>s.name===t))}function Z(e){return K(e).map(t=>{var s,l,i;const n=W(t),o=n?t.children[0]:t,c={...o,...o.meta,label:(s=o.meta)==null?void 0:s.title,key:o.name,icon:n?(l=t.meta)==null?void 0:l.icon:(i=o.meta)==null?void 0:i.icon};return o.children&&o.children.length>0&&(c.children=Z(o.children)),c})}const ge={name:"Index",props:{collapsed:{type:Boolean}}},we={class:"logo"},Ce={class:"title"};function ke(e,t,n,o,c,s){const l=Vue.resolveComponent("svg-icon");return Vue.openBlock(),Vue.createElementBlock("div",we,[Vue.createVNode(l,{name:"logo",height:"32px",width:"64px",class:Vue.normalizeClass(["icon",{"mr-2":!n.collapsed}])},null,8,["class"]),Vue.withDirectives(Vue.createElementVNode("h2",Ce,"Monibuca",512),[[Vue.vShow,!n.collapsed]])])}const G=b(ge,[["render",ke],["__scopeId","data-v-73d99584"]]),Ne=Vue.defineComponent({name:"MainView",components:{},props:{notNeedKey:{type:Boolean,default:!1},animate:{type:Boolean,default:!0}},setup(){const{getIsPageAnimate:e,getPageAnimateType:t}=z(),n=X(),o=Vue.computed(()=>n.keepAliveComponents),c=Vue.computed(()=>Vue.unref(e)?Vue.unref(t):"");return{keepAliveComponents:o,getTransitionName:c}}});function ye(e,t,n,o,c,s){const l=Vue.resolveComponent("RouterView");return Vue.openBlock(),Vue.createBlock(l,null,{default:Vue.withCtx(({Component:i,route:r})=>[Vue.createVNode(Vue.Transition,{name:e.getTransitionName,mode:"out-in",appear:""},{default:Vue.withCtx(()=>[e.keepAliveComponents?(Vue.openBlock(),Vue.createBlock(Vue.KeepAlive,{key:0,include:e.keepAliveComponents},[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(i),{key:r.fullPath}))],1032,["include"])):(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(i),{key:r.fullPath}))]),_:2},1032,["name"])]),_:1})}const Be=b(Ne,[["render",ye]]),Se=Vue.defineComponent({name:"Menu",components:{},props:{mode:{type:String,default:"vertical"},collapsed:{type:Boolean},location:{type:String,default:"left"}},emits:["update:collapsed"],setup(e,{emit:t}){const n=T(),o=J(),c=X(),s=U(),l=Vue.ref([]),i=Vue.ref(n.name),r=Vue.ref(""),{getNavMode:u}=z(),w=u,_=n.matched,C=_&&_.length?_.map(d=>d.name):[],m=Vue.reactive({openKeys:C}),S=Vue.computed(()=>["dark","header-dark"].includes(s.navTheme)),k=Vue.computed(()=>{const d=e.location;return d==="left"||d==="header"&&Vue.unref(w)==="horizontal"?Vue.unref(i):Vue.unref(r)});Vue.watch(()=>s.menuSetting.mixMenu,()=>{V(),e.collapsed&&t("update:collapsed",!e.collapsed)}),Vue.watch(()=>n.fullPath,()=>{var f;V();const d=n.matched;m.openKeys=d.map(N=>N.name);const h=((f=n.meta)==null?void 0:f.activeMenu)||"";i.value=h||n.name});function V(){var d;if(!s.menuSetting.mixMenu)l.value=Z(c.getMenus);else{const h=n.matched[0].name||"";l.value=_e(c.getMenus,h,e.location);const f=(d=n==null?void 0:n.matched[0].meta)==null?void 0:d.activeMenu;r.value=f||h||""}}function M(d){o.push({name:d,query:{id:n.query.id}}),t("clickMenuItem",d)}function y(d){if(!d)return;const h=d.find(N=>m.openKeys.indexOf(N)===-1),f=a(h);m.openKeys=f?h?[h]:[]:d}function a(d){if(!d)return!1;const h=[];for(const{children:f,key:N}of Vue.unref(l))f&&f.length&&h.push(N);return h.includes(d)}return Vue.onMounted(()=>{V()}),{...Vue.toRefs(m),inverted:S,menus:l,selectedKeys:i,headerMenuSelectKey:r,getSelectedKeys:k,clickMenuItem:M,menuExpanded:y}}});function Me(e,t,n,o,c,s){const l=Vue.resolveComponent("NMenu");return Vue.openBlock(),Vue.createBlock(l,{options:e.menus,inverted:e.inverted,mode:e.mode,collapsed:e.collapsed,"collapsed-width":64,"collapsed-icon-size":20,indent:24,"expanded-keys":e.openKeys,value:e.getSelectedKeys,"onUpdate:value":e.clickMenuItem,"onUpdate:expandedKeys":e.menuExpanded},null,8,["options","inverted","mode","collapsed","expanded-keys","value","onUpdate:value","onUpdate:expandedKeys"])}const I=b(Se,[["render",Me]]),Ee={SettingOutlined:te,LockOutlined:ne,GithubOutlined:oe,SearchOutlined:ue,MenuFoldOutlined:le,MenuUnfoldOutlined:re,FullscreenOutlined:ae,FullscreenExitOutlined:se,PoweroffOutlined:ce,ReloadOutlined:ie,LogoutOutlined:de,UserOutlined:Ve,CheckOutlined:Q},be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Fe=Vue.createVNode("path",{d:"M264 480A232 232 0 0 1 32 248c0-94 54-178.28 137.61-214.67a16 16 0 0 1 21.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200c31.34 0 59.57-5.07 81.61-14.67a16 16 0 0 1 21.06 21.06C442.28 426 358 480 264 480z",fill:"currentColor"},null,-1),$e=Vue.defineComponent({name:"Moon",render:function(t,n){return Vue.openBlock(),Vue.createBlock("svg",be,[Fe])}}),xe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},De=Vue.createVNode("path",{d:"M234 26h44v92h-44z",fill:"currentColor"},null,-1),Te=Vue.createVNode("path",{d:"M234 394h44v92h-44z",fill:"currentColor"},null,-1),ze=Vue.createVNode("path",{d:"M338.025 142.857l65.054-65.054l31.113 31.113l-65.054 65.054z",fill:"currentColor"},null,-1),Ae=Vue.createVNode("path",{d:"M77.815 403.074l65.054-65.054l31.113 31.113l-65.054 65.054z",fill:"currentColor"},null,-1),Re=Vue.createVNode("path",{d:"M394 234h92v44h-92z",fill:"currentColor"},null,-1),Oe=Vue.createVNode("path",{d:"M26 234h92v44H26z",fill:"currentColor"},null,-1),Le=Vue.createVNode("path",{d:"M338.029 369.14l31.112-31.113l65.054 65.054l-31.112 31.112z",fill:"currentColor"},null,-1),Pe=Vue.createVNode("path",{d:"M77.802 108.92l31.113-31.113l65.054 65.054l-31.113 31.112z",fill:"currentColor"},null,-1),Ie=Vue.createVNode("path",{d:"M256 358a102 102 0 1 1 102-102a102.12 102.12 0 0 1-102 102z",fill:"currentColor"},null,-1),Ue=Vue.defineComponent({name:"SunnySharp",render:function(t,n){return Vue.openBlock(),Vue.createBlock("svg",xe,[De,Te,ze,Ae,Re,Oe,Le,Pe,Ie])}}),q=""+new URL("nav-theme-dark-be6f2a3d.svg",import.meta.url).href,Ke=""+new URL("nav-horizontal-f3cbecb9.svg",import.meta.url).href,We=""+new URL("nav-theme-light-43fdcab2.svg",import.meta.url).href;const je=Vue.defineComponent({name:"ProjectSetting",components:{CheckOutlined:Q,Moon:$e,SunnySharp:Ue},props:{title:{type:String,default:"主题配置"},width:{type:Number,default:280}},setup(e){const t=U(),n=pe(),o=Vue.reactive({width:e.width,title:e.title,isDrawer:!1,placement:"right",alertText:"该功能主要实时预览各种布局效果，更多完整配置在 projectSetting.ts 中设置，建议在生产环境关闭该布局预览功能。",appThemeList:n.appThemeList});Vue.watch(()=>n.darkTheme,u=>{t.navTheme=u?"header-dark":"dark"});function c(){o.isDrawer=!0}function s(){o.isDrawer=!1}function l(u){t.navTheme=u,t.navMode==="horizontal"&&["light"].includes(u)&&(t.navTheme="dark")}function i(u){n.appTheme=u}function r(u){t.navMode=u,t.menuSetting.mixMenu=!1}return{...Vue.toRefs(o),settingStore:t,designStore:n,togNavTheme:l,togNavMode:r,togTheme:i,darkTheme:naive.darkTheme,openDrawer:c,closeDrawer:s}}}),A=e=>(Vue.pushScopeId("data-v-1dfb9bbc"),e=e(),Vue.popScopeId(),e),He={class:"drawer"},Ge=Vue.createTextVNode("主题"),qe={class:"justify-center drawer-setting-item dark-switch"},Je=Vue.createTextVNode("系统主题"),Qe={class:"drawer-setting-item align-items-top"},Xe=["onClick"],Ye=Vue.createTextVNode("导航栏模式"),Ze={class:"drawer-setting-item align-items-top"},et={class:"drawer-setting-item-style align-items-top"},tt=A(()=>Vue.createElementVNode("span",null,"左侧菜单模式",-1)),nt={class:"drawer-setting-item-style"},ot=A(()=>Vue.createElementVNode("span",null,"顶部菜单模式",-1)),ut=Vue.createTextVNode("导航栏风格"),lt={class:"drawer-setting-item align-items-top"},rt={class:"drawer-setting-item-style align-items-top"},at=A(()=>Vue.createElementVNode("span",null,"暗色侧边栏",-1)),st={class:"drawer-setting-item-style"},ct=A(()=>Vue.createElementVNode("span",null,"白色侧边栏",-1));function it(e,t,n,o,c,s){const l=Vue.resolveComponent("n-divider"),i=Vue.resolveComponent("SunnySharp"),r=Vue.resolveComponent("n-icon"),u=Vue.resolveComponent("Moon"),w=Vue.resolveComponent("n-switch"),_=Vue.resolveComponent("n-tooltip"),C=Vue.resolveComponent("CheckOutlined"),m=Vue.resolveComponent("n-badge"),S=Vue.resolveComponent("n-drawer-content"),k=Vue.resolveComponent("n-drawer");return Vue.openBlock(),Vue.createBlock(k,{show:e.isDrawer,"onUpdate:show":t[5]||(t[5]=V=>e.isDrawer=V),width:e.width,placement:e.placement},{default:Vue.withCtx(()=>[Vue.createVNode(S,{title:e.title,"native-scrollbar":!1},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",He,[Vue.createVNode(l,{"title-placement":"center"},{default:Vue.withCtx(()=>[Ge]),_:1}),Vue.createElementVNode("div",qe,[Vue.createVNode(_,{placement:"bottom"},{trigger:Vue.withCtx(()=>[Vue.createVNode(w,{value:e.designStore.darkTheme,"onUpdate:value":t[0]||(t[0]=V=>e.designStore.darkTheme=V),class:"dark-theme-switch"},{checked:Vue.withCtx(()=>[Vue.createVNode(r,{size:"14",color:"#ffd93b"},{default:Vue.withCtx(()=>[Vue.createVNode(i)]),_:1})]),unchecked:Vue.withCtx(()=>[Vue.createVNode(r,{size:"14",color:"#ffd93b"},{default:Vue.withCtx(()=>[Vue.createVNode(u)]),_:1})]),_:1},8,["value"])]),default:Vue.withCtx(()=>[Vue.createElementVNode("span",null,Vue.toDisplayString(e.designStore.darkTheme?"深":"浅")+"色主题",1)]),_:1})]),Vue.createVNode(l,{"title-placement":"center"},{default:Vue.withCtx(()=>[Je]),_:1}),Vue.createElementVNode("div",Qe,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.appThemeList,(V,M)=>(Vue.openBlock(),Vue.createElementBlock("span",{class:"theme-item",key:M,style:Vue.normalizeStyle({"background-color":V}),onClick:y=>e.togTheme(V)},[V===e.designStore.appTheme?(Vue.openBlock(),Vue.createBlock(r,{key:0,size:"12"},{default:Vue.withCtx(()=>[Vue.createVNode(C)]),_:1})):Vue.createCommentVNode("",!0)],12,Xe))),128))]),Vue.createVNode(l,{"title-placement":"center"},{default:Vue.withCtx(()=>[Ye]),_:1}),Vue.createElementVNode("div",Ze,[Vue.createElementVNode("div",et,[Vue.createVNode(_,{placement:"top"},{trigger:Vue.withCtx(()=>[Vue.createElementVNode("img",{src:q,onClick:t[1]||(t[1]=V=>e.togNavMode("vertical")),alt:"左侧菜单模式"})]),default:Vue.withCtx(()=>[tt]),_:1}),Vue.withDirectives(Vue.createVNode(m,{dot:"",color:"#19be6b"},null,512),[[Vue.vShow,e.settingStore.navMode==="vertical"]])]),Vue.createElementVNode("div",nt,[Vue.createVNode(_,{placement:"top"},{trigger:Vue.withCtx(()=>[Vue.createElementVNode("img",{src:Ke,alt:"顶部菜单模式",onClick:t[2]||(t[2]=V=>e.togNavMode("horizontal"))})]),default:Vue.withCtx(()=>[ot]),_:1}),Vue.withDirectives(Vue.createVNode(m,{dot:"",color:"#19be6b"},null,512),[[Vue.vShow,e.settingStore.navMode==="horizontal"]])])]),Vue.createVNode(l,{"title-placement":"center"},{default:Vue.withCtx(()=>[ut]),_:1}),Vue.createElementVNode("div",lt,[Vue.createElementVNode("div",rt,[Vue.createVNode(_,{placement:"top"},{trigger:Vue.withCtx(()=>[Vue.createElementVNode("img",{src:q,alt:"暗色侧边栏",onClick:t[3]||(t[3]=V=>e.togNavTheme("dark"))})]),default:Vue.withCtx(()=>[at]),_:1}),e.settingStore.navTheme==="dark"?(Vue.openBlock(),Vue.createBlock(m,{key:0,dot:"",color:"#19be6b"})):Vue.createCommentVNode("",!0)]),Vue.createElementVNode("div",st,[Vue.createVNode(_,{placement:"top"},{trigger:Vue.withCtx(()=>[Vue.createElementVNode("img",{src:We,alt:"白色侧边栏",onClick:t[4]||(t[4]=V=>e.togNavTheme("light"))})]),default:Vue.withCtx(()=>[ct]),_:1}),e.settingStore.navTheme==="light"?(Vue.openBlock(),Vue.createBlock(m,{key:0,dot:"",color:"#19be6b"})):Vue.createCommentVNode("",!0)])])])]),_:1},8,["title"])]),_:1},8,["show","width","placement"])}const dt=b(je,[["render",it],["__scopeId","data-v-1dfb9bbc"]]);const Vt=Vue.defineComponent({name:"PageHeader",components:{...Ee,NDialogProvider:naive.NDialogProvider,ProjectSetting:dt,AsideMenu:I},props:{collapsed:{type:Boolean},inverted:{type:Boolean}},emits:["update:collapsed"],setup(e,{emit:t}){const n=me(),{isSaas:o,getNavMode:c,getNavTheme:s,getHeaderSetting:l,getMenuSetting:i,getCrumbsSetting:r}=z(),u=Vue.ref(),w=Vue.ref(0),_=Vue.ref(!1),C=Vue.ref(!1),m=Vue.ref(!1),S=T();o.value||he().then(g=>{_.value=!0,w.value=Number(g.data.remainseconds)*1e3,w.value<5*60*1e3?C.value=!0:C.value=!1}).catch(g=>{console.log(g),m.value=!0});const k=Vue.reactive({username:n.username||n.mail,level:n.level,fullscreenIcon:"FullscreenOutlined",navMode:c,navTheme:s,headerSetting:l,crumbsSetting:r}),V=Vue.computed(()=>{const g=Vue.unref(s);return["light","header-dark"].includes(g)?e.inverted:!e.inverted}),M=Vue.computed(()=>Vue.unref(i).mixMenu),y=()=>{window.location.href="/#/instance/list",window.location.reload()},a=Vue.computed(()=>{const{collapsed:g}=e,{minMenuWidth:E,menuWidth:F}=Vue.unref(i);return{left:g?`${E}px`:`${F}px`,width:`calc(100% - ${g?`${E}px`:`${F}px`})`}}),d=Vue.computed(()=>"header"),h=()=>{console.log(888888),m.value=!0},f=J(),N=T(),$=g=>g.map(E=>{const F={...E,label:E.meta.title,key:E.name,disabled:E.path==="/"};return E.children&&E.children.length>0&&(F.children=$(E.children)),F}),v=Vue.computed(()=>$(N.matched)),p=g=>{f.push({name:g})},x=Vue.ref(N.name=="instance_list");Vue.watch(()=>S.fullPath,()=>{x.value=S.name=="instance_list"});const R=()=>{f.push({path:"/redirect"+Vue.unref(N).fullPath})},O=()=>k.fullscreenIcon=document.fullscreenElement!==null?"FullscreenExitOutlined":"FullscreenOutlined";document.addEventListener("fullscreenchange",O);const L=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},P=[{icon:"GithubOutlined",tips:"github",eventObject:{click:()=>window.open("https://github.com/monibuca")}}];function D(){const{openDrawer:g}=u.value;g()}function B(g){t("update:collapsed",!g)}return{isSaas:o,isEnd:m,isHigh:C,setTip:h,active:_,duration:w,...Vue.toRefs(k),iconList:P,toggleFullScreen:L,route:N,dropdownSelect:p,userSetting(){f.push({name:"Setting"})},getChangeStyle:a,breadcrumbList:v,reloadPage:R,drawerSetting:u,openSetting:D,getInverted:V,getMenuLocation:d,mixMenu:M,switchCollapse:B,isHome:x,goBack:y}}}),j=e=>(Vue.pushScopeId("data-v-f0b82920"),e=e(),Vue.popScopeId(),e),pt={class:"layout-header"},mt={key:0,class:"layout-header-left"},ht={key:0,class:"logo"},ft=j(()=>Vue.createElementVNode("img",{src:fe,alt:""},null,-1)),vt={class:"title"},_t={key:1,class:"layout-header-left"},gt={class:"link-text"},wt={key:1,class:"link-text"},Ct={class:"layout-header-right"},kt={key:0,class:"c-wrap"},Nt=Vue.createTextVNode("返回首页"),yt={key:1},Bt={key:0,class:"c-wrap"},St={key:1,class:"c-wrap"},Mt=Vue.createTextVNode(" 体验版倒计时： "),Et={class:"layout-header-trigger layout-header-trigger-min"},bt=j(()=>Vue.createElementVNode("span",null,"全屏",-1)),Ft={class:"layout-header-trigger layout-header-trigger-min"},$t=j(()=>Vue.createElementVNode("span",null,"主题配置",-1));function xt(e,t,n,o,c,s){const l=Vue.resolveComponent("AsideMenu"),i=Vue.resolveComponent("MenuUnfoldOutlined"),r=Vue.resolveComponent("n-icon"),u=Vue.resolveComponent("MenuFoldOutlined"),w=Vue.resolveComponent("n-dropdown"),_=Vue.resolveComponent("n-breadcrumb-item"),C=Vue.resolveComponent("n-breadcrumb"),m=Vue.resolveComponent("n-button"),S=Vue.resolveComponent("n-countdown"),k=Vue.resolveComponent("n-tooltip"),V=Vue.resolveComponent("n-avatar"),M=Vue.resolveComponent("SettingOutlined"),y=Vue.resolveComponent("ProjectSetting");return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createElementVNode("div",pt,[e.navMode==="horizontal"||e.navMode==="horizontal-mix"&&e.mixMenu?(Vue.openBlock(),Vue.createElementBlock("div",mt,[e.navMode==="horizontal"?(Vue.openBlock(),Vue.createElementBlock("div",ht,[ft,Vue.withDirectives(Vue.createElementVNode("h2",vt,"Monibuca",512),[[Vue.vShow,!e.collapsed]])])):Vue.createCommentVNode("",!0),Vue.createVNode(l,{collapsed:e.collapsed,"onUpdate:collapsed":t[0]||(t[0]=a=>e.collapsed=a),location:e.getMenuLocation,"onUpdate:location":t[1]||(t[1]=a=>e.getMenuLocation=a),inverted:e.getInverted,mode:"horizontal"},null,8,["collapsed","location","inverted"])])):(Vue.openBlock(),Vue.createElementBlock("div",_t,[Vue.createElementVNode("div",{class:"ml-1 layout-header-trigger layout-header-trigger-min",onClick:t[2]||(t[2]=a=>e.switchCollapse(e.collapsed))},[e.collapsed?(Vue.openBlock(),Vue.createBlock(r,{key:0,size:"18"},{default:Vue.withCtx(()=>[Vue.createVNode(i)]),_:1})):(Vue.openBlock(),Vue.createBlock(r,{key:1,size:"18"},{default:Vue.withCtx(()=>[Vue.createVNode(u)]),_:1}))]),e.crumbsSetting.show?(Vue.openBlock(),Vue.createBlock(C,{key:0},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.breadcrumbList,a=>(Vue.openBlock(),Vue.createBlock(_,{key:a.name},{default:Vue.withCtx(()=>[a.children.length?(Vue.openBlock(),Vue.createBlock(w,{key:0,options:a.children,onSelect:e.dropdownSelect},{default:Vue.withCtx(()=>[Vue.createElementVNode("span",gt,[e.crumbsSetting.showIcon&&a.meta.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(a.meta.icon),{key:0})):Vue.createCommentVNode("",!0),Vue.createTextVNode(" "+Vue.toDisplayString(a.meta.title),1)])]),_:2},1032,["options","onSelect"])):(Vue.openBlock(),Vue.createElementBlock("span",wt,[e.crumbsSetting.showIcon&&a.meta.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(a.meta.icon),{key:0})):Vue.createCommentVNode("",!0),Vue.createTextVNode(" "+Vue.toDisplayString(a.meta.title),1)]))]),_:2},1024))),128))]),_:1})):Vue.createCommentVNode("",!0)])),Vue.createElementVNode("div",Ct,[e.isSaas?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",kt,[e.isHome?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(m,{key:0,type:"primary",onClick:e.goBack},{default:Vue.withCtx(()=>[Nt]),_:1},8,["onClick"]))])),e.isSaas?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",yt,[e.isEnd?(Vue.openBlock(),Vue.createElementBlock("div",Bt,"体验版时间已用尽，请联系官方人员")):(Vue.openBlock(),Vue.createElementBlock("div",St,[Mt,Vue.createElementVNode("div",{class:Vue.normalizeClass([e.isHigh?"count-down":""])},[Vue.createVNode(S,{duration:e.duration,"on-finish":e.setTip,active:e.active},null,8,["duration","on-finish","active"])],2)]))])),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.iconList,a=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"layout-header-trigger layout-header-trigger-min",key:a.icon.name},[Vue.createVNode(k,{placement:"bottom"},{trigger:Vue.withCtx(()=>[Vue.createVNode(r,{size:"18"},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(a.icon),Vue.toHandlers(a.eventObject||{}),null,16))]),_:2},1024)]),default:Vue.withCtx(()=>[Vue.createElementVNode("span",null,Vue.toDisplayString(a.tips),1)]),_:2},1024)]))),128)),Vue.createElementVNode("div",Et,[Vue.createVNode(k,{placement:"bottom"},{trigger:Vue.withCtx(()=>[Vue.createVNode(r,{size:"18"},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(e.fullscreenIcon),{onClick:e.toggleFullScreen},null,8,["onClick"]))]),_:1})]),default:Vue.withCtx(()=>[bt]),_:1})]),Vue.createElementVNode("div",Ft,[Vue.createElementVNode("div",{class:"avatar",onClick:t[3]||(t[3]=(...a)=>e.userSetting&&e.userSetting(...a))},[Vue.createVNode(V,{style:{color:"white",backgroundColor:"#2d8cf0"},round:""},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(e.username)+"("+Vue.toDisplayString(e.level)+") ",1)]),_:1})])]),Vue.createElementVNode("div",{class:"layout-header-trigger layout-header-trigger-min",onClick:t[4]||(t[4]=(...a)=>e.openSetting&&e.openSetting(...a))},[Vue.createVNode(k,{placement:"bottom-end"},{trigger:Vue.withCtx(()=>[Vue.createVNode(r,{size:"18",style:{"font-weight":"bold"}},{default:Vue.withCtx(()=>[Vue.createVNode(M)]),_:1})]),default:Vue.withCtx(()=>[$t]),_:1})])])]),Vue.createVNode(y,{ref:"drawerSetting"},null,512)],64)}const Dt=b(Vt,[["render",xt],["__scopeId","data-v-f0b82920"]]);const Tt=Vue.defineComponent({__name:"index",setup(e){const{getDarkTheme:t}=ve(),{getNavMode:n,getNavTheme:o,getHeaderSetting:c,getMenuSetting:s,getMultiTabsSetting:l}=z(),i=U(),r=n,u=Vue.ref(!1),{mobileWidth:w,menuWidth:_}=Vue.unref(s),C=Vue.computed({get:()=>i.getIsMobile,set:v=>i.setIsMobile(v)}),m=Vue.computed(()=>{const{fixed:v}=Vue.unref(c);return v?"absolute":"static"}),S=Vue.computed(()=>{const v=i.menuSetting.mixMenu,p=T();return Vue.unref(r)!="horizontal-mix"?!0:!(Vue.unref(r)==="horizontal-mix"&&v&&p.meta.isRoot)}),k=Vue.computed(()=>{const{fixed:v}=Vue.unref(c);return v?"absolute":"static"}),V=Vue.computed(()=>Vue.unref(l).show),M=Vue.computed(()=>Vue.unref(l).fixed),y=Vue.computed(()=>["dark","header-dark"].includes(Vue.unref(o))),a=Vue.computed(()=>{const v=Vue.unref(o);return["light","header-dark"].includes(v)?Vue.unref(y):!Vue.unref(y)}),d=Vue.computed(()=>{const{minMenuWidth:v,menuWidth:p}=Vue.unref(s);return u.value?v:p}),h=Vue.computed(()=>"left"),f=Vue.computed({get:()=>C.value&&u.value,set:v=>u.value=v}),N=()=>{document.body.clientWidth<=w?C.value=!0:C.value=!1,u.value=!1},$=()=>{document.body.clientWidth<=950?u.value=!0:u.value=!1,N()};return Vue.onMounted(()=>{N(),window.addEventListener("resize",$),window.$loading=naive.useLoadingBar(),window.$loading.finish()}),(v,p)=>{const x=Vue.resolveComponent("n-layout-sider"),R=Vue.resolveComponent("n-drawer"),O=Vue.resolveComponent("n-layout-header"),L=Vue.resolveComponent("n-layout-content"),P=Vue.resolveComponent("n-back-top"),D=Vue.resolveComponent("n-layout");return Vue.openBlock(),Vue.createBlock(D,{class:"layout",position:Vue.unref(k),"has-sider":""},{default:Vue.withCtx(()=>[!Vue.unref(C)&&Vue.unref(S)&&(Vue.unref(r)==="vertical"||Vue.unref(r)==="horizontal-mix")?(Vue.openBlock(),Vue.createBlock(x,{key:0,"show-trigger":"bar",onCollapse:p[2]||(p[2]=B=>u.value=!0),position:Vue.unref(k),onExpand:p[3]||(p[3]=B=>u.value=!1),collapsed:u.value,"collapse-mode":"width","collapsed-width":64,width:Vue.unref(d),"native-scrollbar":!1,inverted:Vue.unref(y),class:"layout-sider"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(G),{collapsed:u.value},null,8,["collapsed"]),Vue.createVNode(Vue.unref(I),{collapsed:u.value,"onUpdate:collapsed":p[0]||(p[0]=B=>u.value=B),location:Vue.unref(h),"onUpdate:location":p[1]||(p[1]=B=>Vue.isRef(h)?h.value=B:null)},null,8,["collapsed","location"])]),_:1},8,["position","collapsed","width","inverted"])):Vue.createCommentVNode("",!0),Vue.createVNode(R,{show:Vue.unref(f),"onUpdate:show":p[5]||(p[5]=B=>Vue.isRef(f)?f.value=B:null),width:Vue.unref(_),placement:"left",class:"layout-side-drawer"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(G),{collapsed:u.value},null,8,["collapsed"]),Vue.createVNode(Vue.unref(I),{onClickMenuItem:p[4]||(p[4]=B=>u.value=!1)})]),_:1},8,["show","width"]),Vue.createVNode(D,{inverted:Vue.unref(y)},{default:Vue.withCtx(()=>[Vue.createVNode(O,{inverted:Vue.unref(a),position:Vue.unref(m)},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(Dt),{collapsed:u.value,"onUpdate:collapsed":p[6]||(p[6]=B=>u.value=B),inverted:Vue.unref(y)},null,8,["collapsed","inverted"])]),_:1},8,["inverted","position"]),Vue.createVNode(L,{class:Vue.normalizeClass(["layout-content",{"layout-default-background":Vue.unref(t)===!1}])},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",{class:Vue.normalizeClass(["layout-content-main",{"layout-content-main-fix":Vue.unref(M),"fluid-header":Vue.unref(m)==="static"}])},[Vue.createElementVNode("div",{class:Vue.normalizeClass(["main-view",{"main-view-fix":Vue.unref(M),noMultiTabs:!Vue.unref(V),"mt-3":!Vue.unref(V)}])},[Vue.createVNode(Vue.unref(Be))],2)],2)]),_:1},8,["class"]),Vue.createVNode(P,{right:100})]),_:1},8,["inverted"])]),_:1},8,["position"])}}}),Pt=b(Tt,[["__scopeId","data-v-0f95d1fd"]]);export{Pt as default};
