import{f as g,h as B}from"./vendor-1e70d1e5.js";import{_ as N,c as x,a as E}from"./index-6f9c12d4.js";import{P as y}from"./PersonOutline-a27731eb.js";import{L as k}from"./LockClosedOutline-aa141746.js";const S=""+new URL("../guide.png",import.meta.url).href;const b=u=>(Vue.pushScopeId("data-v-0f6f0f42"),u=u(),Vue.popScopeId(),u),P={class:"view-account"},R=b(()=>Vue.createElementVNode("div",{class:"view-account-header"},null,-1)),A={class:"view-account-container"},D={class:"view-account-top"},I={class:"view-account-top-logo"},U={class:"view-account-top-desc"},z={class:"view-account-form"},q=Vue.createTextVNode(" 登录 "),L={key:0,src:S,width:"300"},O=Vue.defineComponent({__name:"index",setup(u){const p=Vue.ref(),c=naive.useMessage(),n=Vue.ref(!1),o=Vue.reactive({mail:"admin",password:"123456",isCaptcha:!0}),f={mail:{required:!0,message:"请输入邮箱账号",trigger:"blur"},password:{required:!0,message:"请输入密码",trigger:"blur"}},v=x(),l=E(),i=g(),C=B(),_=()=>{p.value.validate(async s=>{var e;if(s)c.error("请填写完整信息，并且进行验证码校验");else{const{mail:d,password:a}=o;n.value=!0;const r={mail:d,password:a};try{const t=await v.login(r);if(c.destroyAll(),t.code==0){const V=decodeURIComponent(((e=C.query)==null?void 0:e.redirect)||"/");c.success("登录成功"),i.replace(V)}}catch{n.value=!1}finally{n.value=!1}}})};function h(){i.push({name:"Register"})}function w(){i.push({name:"Password"})}return document.onkeydown=function(s){s.key=="Enter"&&_()},(s,e)=>{const d=Vue.resolveComponent("svg-icon"),a=Vue.resolveComponent("n-icon"),r=Vue.resolveComponent("n-input"),t=Vue.resolveComponent("n-form-item"),V=Vue.resolveComponent("n-button"),F=Vue.resolveComponent("n-form");return Vue.openBlock(),Vue.createElementBlock("div",P,[R,Vue.createElementVNode("div",A,[Vue.createElementVNode("div",D,[Vue.createElementVNode("div",I,[Vue.createVNode(d,{name:"logo",width:"256px"})]),Vue.createElementVNode("div",U," 实例管理平台"+Vue.toDisplayString(Vue.unref(l).isSaas?"（在线版）":"（私有化体验版）"),1)]),Vue.createElementVNode("div",z,[Vue.createVNode(F,{ref_key:"formRef",ref:p,"label-placement":"left",size:"large",model:o,rules:f},{default:Vue.withCtx(()=>[Vue.createVNode(t,{path:"mail"},{default:Vue.withCtx(()=>[Vue.createVNode(r,{value:o.mail,"onUpdate:value":e[0]||(e[0]=m=>o.mail=m),placeholder:"请输入账号"},{prefix:Vue.withCtx(()=>[Vue.createVNode(a,{size:"18",color:"#808695"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(y))]),_:1})]),_:1},8,["value"])]),_:1}),Vue.createVNode(t,{path:"password"},{default:Vue.withCtx(()=>[Vue.createVNode(r,{value:o.password,"onUpdate:value":e[1]||(e[1]=m=>o.password=m),type:"password",showPasswordOn:"click",placeholder:"请输入密码"},{prefix:Vue.withCtx(()=>[Vue.createVNode(a,{size:"18",color:"#808695"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(k))]),_:1})]),_:1},8,["value"])]),_:1}),Vue.createVNode(t,null,{default:Vue.withCtx(()=>[Vue.createVNode(V,{type:"primary",onClick:_,size:"large",loading:n.value,block:""},{default:Vue.withCtx(()=>[q]),_:1},8,["loading"])]),_:1}),Vue.unref(l).isSaas?(Vue.openBlock(),Vue.createBlock(t,{key:0,class:"default-color"},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",{class:"flex view-account-other"},[Vue.createElementVNode("div",{class:"flex-initial",style:{"margin-left":"auto"}},[Vue.createElementVNode("a",{onClick:h},"注册账号"),Vue.createElementVNode("a",{style:{"margin-left":"20px"},onClick:w},"忘记密码")])])]),_:1})):Vue.createCommentVNode("",!0)]),_:1},8,["model"])])]),Vue.unref(l).isSaas?(Vue.openBlock(),Vue.createElementBlock("img",L)):Vue.createCommentVNode("",!0)])}}}),H=N(O,[["__scopeId","data-v-0f6f0f42"]]);export{H as default};
