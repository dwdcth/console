import{g as X,h as L,f as H,S as Y,L as Z,G as ee,i as te,M as ne,j as oe,F as ue,k as le,l as re,R as ae,m as se,U as ce,C as G}from"./vendor-1e70d1e5.js";import{P as j,_ as E,u as F,a as q,b as ie,c as de,i as Ve}from"./index-20ae1759.js";import{_ as pe}from"./logo-44f27a9b.js";import{u as me}from"./useDesignSetting-4e44141c.js";function P(e){return e.filter(t=>{var n;return(((n=t.meta)==null?void 0:n.hidden)||!1)!=!0&&!["/:path(.*)*","/",j.REDIRECT,j.BASE_LOGIN].includes(t.path)})}function I(e){var t,n;return((t=e.meta)==null?void 0:t.alwaysShow)!=!0&&((n=e.children)==null?void 0:n.length)===1}function J(e){return P(e).map(t=>{var s;const o=I(t)?t.children[0]:t,c={...o,...o.meta,label:(s=o.meta)==null?void 0:s.title,key:o.name};return o.children&&o.children.length>0&&(c.children=J(o.children)),c})}function he(e,t,n){const o=X(e),c=P(o);if(n==="header"){const s=[];return c.forEach(r=>{var w;const a=I(r)?r.children[0]:r;a.children=void 0;const u={...a,...a.meta,label:(w=a.meta)==null?void 0:w.title,key:a.name};s.push(u)}),s}else return J(c.filter(s=>s.name===t))}function Q(e){return P(e).map(t=>{var s,r,d;const n=I(t),o=n?t.children[0]:t,c={...o,...o.meta,label:(s=o.meta)==null?void 0:s.title,key:o.name,icon:n?(r=t.meta)==null?void 0:r.icon:(d=o.meta)==null?void 0:d.icon};return o.children&&o.children.length>0&&(c.children=Q(o.children)),c})}const fe={name:"Index",props:{collapsed:{type:Boolean}}},ge={class:"logo"},ve={class:"title"};function _e(e,t,n,o,c,s){const r=Vue.resolveComponent("svg-icon");return Vue.openBlock(),Vue.createElementBlock("div",ge,[Vue.createVNode(r,{name:"logo",height:"32px",width:"64px",class:Vue.normalizeClass(["icon",{"mr-2":!n.collapsed}])},null,8,["class"]),Vue.withDirectives(Vue.createElementVNode("h2",ve,"Monibuca",512),[[Vue.vShow,!n.collapsed]])])}const K=E(fe,[["render",_e],["__scopeId","data-v-73d99584"]]);function $(){const e=F(),t=Vue.computed(()=>e.navMode),n=Vue.computed(()=>e.navTheme),o=Vue.computed(()=>e.isMobile),c=Vue.computed(()=>e.headerSetting),s=Vue.computed(()=>e.multiTabsSetting),r=Vue.computed(()=>e.menuSetting),d=Vue.computed(()=>e.crumbsSetting),a=Vue.computed(()=>e.permissionMode),u=Vue.computed(()=>e.showFooter),w=Vue.computed(()=>e.isPageAnimate),h=Vue.computed(()=>e.pageAnimateType);return{getNavMode:t,getNavTheme:n,getIsMobile:o,getHeaderSetting:c,getMultiTabsSetting:s,getMenuSetting:r,getCrumbsSetting:d,getPermissionMode:a,getShowFooter:u,getIsPageAnimate:w,getPageAnimateType:h,isSaas:Vue.computed(()=>e.isSaas)}}const we=Vue.defineComponent({name:"MainView",components:{},props:{notNeedKey:{type:Boolean,default:!1},animate:{type:Boolean,default:!0}},setup(){const{getIsPageAnimate:e,getPageAnimateType:t}=$(),n=q(),o=Vue.computed(()=>n.keepAliveComponents),c=Vue.computed(()=>Vue.unref(e)?Vue.unref(t):"");return{keepAliveComponents:o,getTransitionName:c}}});function Ce(e,t,n,o,c,s){const r=Vue.resolveComponent("RouterView");return Vue.openBlock(),Vue.createBlock(r,null,{default:Vue.withCtx(({Component:d,route:a})=>[Vue.createVNode(Vue.Transition,{name:e.getTransitionName,mode:"out-in",appear:""},{default:Vue.withCtx(()=>[e.keepAliveComponents?(Vue.openBlock(),Vue.createBlock(Vue.KeepAlive,{key:0,include:e.keepAliveComponents},[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(d),{key:a.fullPath}))],1032,["include"])):(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(d),{key:a.fullPath}))]),_:2},1032,["name"])]),_:1})}const ke=E(we,[["render",Ce]]),Ne=Vue.defineComponent({name:"Menu",components:{},props:{mode:{type:String,default:"vertical"},collapsed:{type:Boolean},location:{type:String,default:"left"}},emits:["update:collapsed"],setup(e,{emit:t}){const n=L(),o=H(),c=q(),s=F(),r=Vue.ref([]),d=Vue.ref(n.name),a=Vue.ref(""),{getNavMode:u}=$(),w=u,h=n.matched,k=h&&h.length?h.map(i=>i.name):[],f=Vue.reactive({openKeys:k}),y=Vue.computed(()=>["dark","header-dark"].includes(s.navTheme)),S=Vue.computed(()=>{const i=e.location;return i==="left"||i==="header"&&Vue.unref(w)==="horizontal"?Vue.unref(d):Vue.unref(a)});Vue.watch(()=>s.menuSetting.mixMenu,()=>{V(),e.collapsed&&t("update:collapsed",!e.collapsed)}),Vue.watch(()=>n.fullPath,()=>{var v;V();const i=n.matched;f.openKeys=i.map(M=>M.name);const p=((v=n.meta)==null?void 0:v.activeMenu)||"";d.value=p||n.name});function V(){var i;if(!s.menuSetting.mixMenu)r.value=Q(c.getMenus);else{const p=n.matched[0].name||"";r.value=he(c.getMenus,p,e.location);const v=(i=n==null?void 0:n.matched[0].meta)==null?void 0:i.activeMenu;a.value=v||p||""}}function B(i){/http(s)?:/.test(i)?window.open(i):o.push({name:i,query:{id:n.query.id}}),t("clickMenuItem",i)}function l(i){if(!i)return;const p=i.find(M=>f.openKeys.indexOf(M)===-1),v=b(p);f.openKeys=v?p?[p]:[]:i}function b(i){if(!i)return!1;const p=[];for(const{children:v,key:M}of Vue.unref(r))v&&v.length&&p.push(M);return p.includes(i)}return Vue.onMounted(()=>{V()}),{...Vue.toRefs(f),inverted:y,menus:r,selectedKeys:d,headerMenuSelectKey:a,getSelectedKeys:S,clickMenuItem:B,menuExpanded:l}}});function ye(e,t,n,o,c,s){const r=Vue.resolveComponent("NMenu");return Vue.openBlock(),Vue.createBlock(r,{options:e.menus,inverted:e.inverted,mode:e.mode,collapsed:e.collapsed,"collapsed-width":64,"collapsed-icon-size":20,indent:24,"expanded-keys":e.openKeys,value:e.getSelectedKeys,"onUpdate:value":e.clickMenuItem,"onUpdate:expandedKeys":e.menuExpanded},null,8,["options","inverted","mode","collapsed","expanded-keys","value","onUpdate:value","onUpdate:expandedKeys"])}const O=E(Ne,[["render",ye]]),Se={SettingOutlined:Y,LockOutlined:Z,GithubOutlined:ee,SearchOutlined:te,MenuFoldOutlined:ne,MenuUnfoldOutlined:oe,FullscreenOutlined:ue,FullscreenExitOutlined:le,PoweroffOutlined:re,ReloadOutlined:ae,LogoutOutlined:se,UserOutlined:ce,CheckOutlined:G},Be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Me=Vue.createVNode("path",{d:"M264 480A232 232 0 0 1 32 248c0-94 54-178.28 137.61-214.67a16 16 0 0 1 21.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200c31.34 0 59.57-5.07 81.61-14.67a16 16 0 0 1 21.06 21.06C442.28 426 358 480 264 480z",fill:"currentColor"},null,-1),Ee=Vue.defineComponent({name:"Moon",render:function(t,n){return Vue.openBlock(),Vue.createBlock("svg",Be,[Me])}}),be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Fe=Vue.createVNode("path",{d:"M234 26h44v92h-44z",fill:"currentColor"},null,-1),$e=Vue.createVNode("path",{d:"M234 394h44v92h-44z",fill:"currentColor"},null,-1),xe=Vue.createVNode("path",{d:"M338.025 142.857l65.054-65.054l31.113 31.113l-65.054 65.054z",fill:"currentColor"},null,-1),Te=Vue.createVNode("path",{d:"M77.815 403.074l65.054-65.054l31.113 31.113l-65.054 65.054z",fill:"currentColor"},null,-1),De=Vue.createVNode("path",{d:"M394 234h92v44h-92z",fill:"currentColor"},null,-1),Ae=Vue.createVNode("path",{d:"M26 234h92v44H26z",fill:"currentColor"},null,-1),ze=Vue.createVNode("path",{d:"M338.029 369.14l31.112-31.113l65.054 65.054l-31.112 31.112z",fill:"currentColor"},null,-1),Re=Vue.createVNode("path",{d:"M77.802 108.92l31.113-31.113l65.054 65.054l-31.113 31.112z",fill:"currentColor"},null,-1),Oe=Vue.createVNode("path",{d:"M256 358a102 102 0 1 1 102-102a102.12 102.12 0 0 1-102 102z",fill:"currentColor"},null,-1),Le=Vue.defineComponent({name:"SunnySharp",render:function(t,n){return Vue.openBlock(),Vue.createBlock("svg",be,[Fe,$e,xe,Te,De,Ae,ze,Re,Oe])}}),W=""+new URL("nav-theme-dark-be6f2a3d.svg",import.meta.url).href,Pe=""+new URL("nav-horizontal-f3cbecb9.svg",import.meta.url).href,Ie=""+new URL("nav-theme-light-43fdcab2.svg",import.meta.url).href;const Ue=Vue.defineComponent({name:"ProjectSetting",components:{CheckOutlined:G,Moon:Ee,SunnySharp:Le},props:{title:{type:String,default:"主题配置"},width:{type:Number,default:280}},setup(e){const t=F(),n=ie(),o=Vue.reactive({width:e.width,title:e.title,isDrawer:!1,placement:"right",alertText:"该功能主要实时预览各种布局效果，更多完整配置在 projectSetting.ts 中设置，建议在生产环境关闭该布局预览功能。",appThemeList:n.appThemeList});Vue.watch(()=>n.darkTheme,u=>{t.navTheme=u?"header-dark":"dark"});function c(){o.isDrawer=!0}function s(){o.isDrawer=!1}function r(u){t.navTheme=u,t.navMode==="horizontal"&&["light"].includes(u)&&(t.navTheme="dark")}function d(u){n.appTheme=u}function a(u){t.navMode=u,t.menuSetting.mixMenu=!1}return{...Vue.toRefs(o),settingStore:t,designStore:n,togNavTheme:r,togNavMode:a,togTheme:d,darkTheme:naive.darkTheme,openDrawer:c,closeDrawer:s}}}),x=e=>(Vue.pushScopeId("data-v-1dfb9bbc"),e=e(),Vue.popScopeId(),e),je={class:"drawer"},Ke=Vue.createTextVNode("主题"),We={class:"justify-center drawer-setting-item dark-switch"},He=Vue.createTextVNode("系统主题"),Ge={class:"drawer-setting-item align-items-top"},qe=["onClick"],Je=Vue.createTextVNode("导航栏模式"),Qe={class:"drawer-setting-item align-items-top"},Xe={class:"drawer-setting-item-style align-items-top"},Ye=x(()=>Vue.createElementVNode("span",null,"左侧菜单模式",-1)),Ze={class:"drawer-setting-item-style"},et=x(()=>Vue.createElementVNode("span",null,"顶部菜单模式",-1)),tt=Vue.createTextVNode("导航栏风格"),nt={class:"drawer-setting-item align-items-top"},ot={class:"drawer-setting-item-style align-items-top"},ut=x(()=>Vue.createElementVNode("span",null,"暗色侧边栏",-1)),lt={class:"drawer-setting-item-style"},rt=x(()=>Vue.createElementVNode("span",null,"白色侧边栏",-1));function at(e,t,n,o,c,s){const r=Vue.resolveComponent("n-divider"),d=Vue.resolveComponent("SunnySharp"),a=Vue.resolveComponent("n-icon"),u=Vue.resolveComponent("Moon"),w=Vue.resolveComponent("n-switch"),h=Vue.resolveComponent("n-tooltip"),k=Vue.resolveComponent("CheckOutlined"),f=Vue.resolveComponent("n-badge"),y=Vue.resolveComponent("n-drawer-content"),S=Vue.resolveComponent("n-drawer");return Vue.openBlock(),Vue.createBlock(S,{show:e.isDrawer,"onUpdate:show":t[5]||(t[5]=V=>e.isDrawer=V),width:e.width,placement:e.placement},{default:Vue.withCtx(()=>[Vue.createVNode(y,{title:e.title,"native-scrollbar":!1},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",je,[Vue.createVNode(r,{"title-placement":"center"},{default:Vue.withCtx(()=>[Ke]),_:1}),Vue.createElementVNode("div",We,[Vue.createVNode(h,{placement:"bottom"},{trigger:Vue.withCtx(()=>[Vue.createVNode(w,{value:e.designStore.darkTheme,"onUpdate:value":t[0]||(t[0]=V=>e.designStore.darkTheme=V),class:"dark-theme-switch"},{checked:Vue.withCtx(()=>[Vue.createVNode(a,{size:"14",color:"#ffd93b"},{default:Vue.withCtx(()=>[Vue.createVNode(d)]),_:1})]),unchecked:Vue.withCtx(()=>[Vue.createVNode(a,{size:"14",color:"#ffd93b"},{default:Vue.withCtx(()=>[Vue.createVNode(u)]),_:1})]),_:1},8,["value"])]),default:Vue.withCtx(()=>[Vue.createElementVNode("span",null,Vue.toDisplayString(e.designStore.darkTheme?"深":"浅")+"色主题",1)]),_:1})]),Vue.createVNode(r,{"title-placement":"center"},{default:Vue.withCtx(()=>[He]),_:1}),Vue.createElementVNode("div",Ge,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.appThemeList,(V,B)=>(Vue.openBlock(),Vue.createElementBlock("span",{class:"theme-item",key:B,style:Vue.normalizeStyle({"background-color":V}),onClick:l=>e.togTheme(V)},[V===e.designStore.appTheme?(Vue.openBlock(),Vue.createBlock(a,{key:0,size:"12"},{default:Vue.withCtx(()=>[Vue.createVNode(k)]),_:1})):Vue.createCommentVNode("",!0)],12,qe))),128))]),Vue.createVNode(r,{"title-placement":"center"},{default:Vue.withCtx(()=>[Je]),_:1}),Vue.createElementVNode("div",Qe,[Vue.createElementVNode("div",Xe,[Vue.createVNode(h,{placement:"top"},{trigger:Vue.withCtx(()=>[Vue.createElementVNode("img",{src:W,onClick:t[1]||(t[1]=V=>e.togNavMode("vertical")),alt:"左侧菜单模式"})]),default:Vue.withCtx(()=>[Ye]),_:1}),Vue.withDirectives(Vue.createVNode(f,{dot:"",color:"#19be6b"},null,512),[[Vue.vShow,e.settingStore.navMode==="vertical"]])]),Vue.createElementVNode("div",Ze,[Vue.createVNode(h,{placement:"top"},{trigger:Vue.withCtx(()=>[Vue.createElementVNode("img",{src:Pe,alt:"顶部菜单模式",onClick:t[2]||(t[2]=V=>e.togNavMode("horizontal"))})]),default:Vue.withCtx(()=>[et]),_:1}),Vue.withDirectives(Vue.createVNode(f,{dot:"",color:"#19be6b"},null,512),[[Vue.vShow,e.settingStore.navMode==="horizontal"]])])]),Vue.createVNode(r,{"title-placement":"center"},{default:Vue.withCtx(()=>[tt]),_:1}),Vue.createElementVNode("div",nt,[Vue.createElementVNode("div",ot,[Vue.createVNode(h,{placement:"top"},{trigger:Vue.withCtx(()=>[Vue.createElementVNode("img",{src:W,alt:"暗色侧边栏",onClick:t[3]||(t[3]=V=>e.togNavTheme("dark"))})]),default:Vue.withCtx(()=>[ut]),_:1}),e.settingStore.navTheme==="dark"?(Vue.openBlock(),Vue.createBlock(f,{key:0,dot:"",color:"#19be6b"})):Vue.createCommentVNode("",!0)]),Vue.createElementVNode("div",lt,[Vue.createVNode(h,{placement:"top"},{trigger:Vue.withCtx(()=>[Vue.createElementVNode("img",{src:Ie,alt:"白色侧边栏",onClick:t[4]||(t[4]=V=>e.togNavTheme("light"))})]),default:Vue.withCtx(()=>[rt]),_:1}),e.settingStore.navTheme==="light"?(Vue.openBlock(),Vue.createBlock(f,{key:0,dot:"",color:"#19be6b"})):Vue.createCommentVNode("",!0)])])])]),_:1},8,["title"])]),_:1},8,["show","width","placement"])}const st=E(Ue,[["render",at],["__scopeId","data-v-1dfb9bbc"]]);const ct=Vue.defineComponent({name:"PageHeader",components:{...Se,NDialogProvider:naive.NDialogProvider,ProjectSetting:st,AsideMenu:O},props:{collapsed:{type:Boolean},inverted:{type:Boolean}},emits:["update:collapsed"],setup(e,{emit:t}){const n=de(),{isSaas:o,getNavMode:c,getNavTheme:s,getHeaderSetting:r,getMenuSetting:d,getCrumbsSetting:a}=$(),u=Vue.ref(),w=Vue.ref(0),h=Vue.ref(!1),k=Vue.ref(!1),f=Vue.ref(!1);o.value||Ve().then(g=>{h.value=!0,w.value=Number(g.data.remainseconds)*1e3,w.value<5*60*1e3?k.value=!0:k.value=!1}).catch(g=>{console.log(g),f.value=!0});const y=Vue.reactive({username:n.username||n.mail,level:n.level,fullscreenIcon:"FullscreenOutlined",navMode:c,navTheme:s,headerSetting:r,crumbsSetting:a}),S=Vue.computed(()=>{const g=Vue.unref(s);return["light","header-dark"].includes(g)?e.inverted:!e.inverted}),V=Vue.computed(()=>Vue.unref(d).mixMenu),B=Vue.computed(()=>{const{collapsed:g}=e,{minMenuWidth:N,menuWidth:C}=Vue.unref(d);return{left:g?`${N}px`:`${C}px`,width:`calc(100% - ${g?`${N}px`:`${C}px`})`}}),l=Vue.computed(()=>"header"),b=()=>{console.log(888888),f.value=!0},i=H(),p=L(),v=g=>g.map(N=>{const C={...N,label:N.meta.title,key:N.name,disabled:N.path==="/"};return N.children&&N.children.length>0&&(C.children=v(N.children)),C}),M=Vue.computed(()=>v(p.matched)),T=g=>{i.push({name:g})},_=()=>{i.push({path:"/redirect"+Vue.unref(p).fullPath})},m=()=>y.fullscreenIcon=document.fullscreenElement!==null?"FullscreenExitOutlined":"FullscreenOutlined";document.addEventListener("fullscreenchange",m);const D=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},A=[{icon:"GithubOutlined",tips:"github",eventObject:{click:()=>window.open("https://github.com/monibuca")}}];function z(){const{openDrawer:g}=u.value;g()}function R(g){t("update:collapsed",!g)}return{isSaas:o,isEnd:f,isHigh:k,setTip:b,active:h,duration:w,...Vue.toRefs(y),iconList:A,toggleFullScreen:D,route:p,dropdownSelect:T,userSetting(){i.push({name:"Setting"})},getChangeStyle:B,breadcrumbList:M,reloadPage:_,drawerSetting:u,openSetting:z,getInverted:S,getMenuLocation:l,mixMenu:V,switchCollapse:R}}}),U=e=>(Vue.pushScopeId("data-v-044d4dcd"),e=e(),Vue.popScopeId(),e),it={class:"layout-header"},dt={key:0,class:"layout-header-left"},Vt={key:0,class:"logo"},pt=U(()=>Vue.createElementVNode("img",{src:pe,alt:""},null,-1)),mt={class:"title"},ht={key:1,class:"layout-header-left"},ft={class:"link-text"},gt={key:1,class:"link-text"},vt={class:"layout-header-right"},_t={key:0},wt={key:0,class:"c-wrap"},Ct={key:1,class:"c-wrap"},kt=Vue.createTextVNode(" 体验版倒计时： "),Nt={class:"layout-header-trigger layout-header-trigger-min"},yt=U(()=>Vue.createElementVNode("span",null,"全屏",-1)),St={class:"layout-header-trigger layout-header-trigger-min"},Bt=U(()=>Vue.createElementVNode("span",null,"主题配置",-1));function Mt(e,t,n,o,c,s){const r=Vue.resolveComponent("AsideMenu"),d=Vue.resolveComponent("MenuUnfoldOutlined"),a=Vue.resolveComponent("n-icon"),u=Vue.resolveComponent("MenuFoldOutlined"),w=Vue.resolveComponent("n-dropdown"),h=Vue.resolveComponent("n-breadcrumb-item"),k=Vue.resolveComponent("n-breadcrumb"),f=Vue.resolveComponent("n-countdown"),y=Vue.resolveComponent("n-tooltip"),S=Vue.resolveComponent("n-avatar"),V=Vue.resolveComponent("SettingOutlined"),B=Vue.resolveComponent("ProjectSetting");return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createElementVNode("div",it,[e.navMode==="horizontal"||e.navMode==="horizontal-mix"&&e.mixMenu?(Vue.openBlock(),Vue.createElementBlock("div",dt,[e.navMode==="horizontal"?(Vue.openBlock(),Vue.createElementBlock("div",Vt,[pt,Vue.withDirectives(Vue.createElementVNode("h2",mt,"Monibuca",512),[[Vue.vShow,!e.collapsed]])])):Vue.createCommentVNode("",!0),Vue.createVNode(r,{collapsed:e.collapsed,"onUpdate:collapsed":t[0]||(t[0]=l=>e.collapsed=l),location:e.getMenuLocation,"onUpdate:location":t[1]||(t[1]=l=>e.getMenuLocation=l),inverted:e.getInverted,mode:"horizontal"},null,8,["collapsed","location","inverted"])])):(Vue.openBlock(),Vue.createElementBlock("div",ht,[Vue.createElementVNode("div",{class:"ml-1 layout-header-trigger layout-header-trigger-min",onClick:t[2]||(t[2]=l=>e.switchCollapse(e.collapsed))},[e.collapsed?(Vue.openBlock(),Vue.createBlock(a,{key:0,size:"18"},{default:Vue.withCtx(()=>[Vue.createVNode(d)]),_:1})):(Vue.openBlock(),Vue.createBlock(a,{key:1,size:"18"},{default:Vue.withCtx(()=>[Vue.createVNode(u)]),_:1}))]),e.crumbsSetting.show?(Vue.openBlock(),Vue.createBlock(k,{key:0},{default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.breadcrumbList,l=>(Vue.openBlock(),Vue.createBlock(h,{key:l.name},{default:Vue.withCtx(()=>[l.children.length?(Vue.openBlock(),Vue.createBlock(w,{key:0,options:l.children,onSelect:e.dropdownSelect},{default:Vue.withCtx(()=>[Vue.createElementVNode("span",ft,[e.crumbsSetting.showIcon&&l.meta.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(l.meta.icon),{key:0})):Vue.createCommentVNode("",!0),Vue.createTextVNode(" "+Vue.toDisplayString(l.meta.title),1)])]),_:2},1032,["options","onSelect"])):(Vue.openBlock(),Vue.createElementBlock("span",gt,[e.crumbsSetting.showIcon&&l.meta.icon?(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(l.meta.icon),{key:0})):Vue.createCommentVNode("",!0),Vue.createTextVNode(" "+Vue.toDisplayString(l.meta.title),1)]))]),_:2},1024))),128))]),_:1})):Vue.createCommentVNode("",!0)])),Vue.createElementVNode("div",vt,[e.isSaas?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("div",_t,[e.isEnd?(Vue.openBlock(),Vue.createElementBlock("div",wt,"体验版时间已用尽，请联系官方人员")):(Vue.openBlock(),Vue.createElementBlock("div",Ct,[kt,Vue.createElementVNode("div",{class:Vue.normalizeClass([e.isHigh?"count-down":""])},[Vue.createVNode(f,{duration:e.duration,"on-finish":e.setTip,active:e.active},null,8,["duration","on-finish","active"])],2)]))])),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.iconList,l=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"layout-header-trigger layout-header-trigger-min",key:l.icon.name},[Vue.createVNode(y,{placement:"bottom"},{trigger:Vue.withCtx(()=>[Vue.createVNode(a,{size:"18"},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(l.icon),Vue.toHandlers(l.eventObject||{}),null,16))]),_:2},1024)]),default:Vue.withCtx(()=>[Vue.createElementVNode("span",null,Vue.toDisplayString(l.tips),1)]),_:2},1024)]))),128)),Vue.createElementVNode("div",Nt,[Vue.createVNode(y,{placement:"bottom"},{trigger:Vue.withCtx(()=>[Vue.createVNode(a,{size:"18"},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(e.fullscreenIcon),{onClick:e.toggleFullScreen},null,8,["onClick"]))]),_:1})]),default:Vue.withCtx(()=>[yt]),_:1})]),Vue.createElementVNode("div",St,[Vue.createElementVNode("div",{class:"avatar",onClick:t[3]||(t[3]=(...l)=>e.userSetting&&e.userSetting(...l))},[Vue.createVNode(S,{style:{color:"white",backgroundColor:"#2d8cf0"},round:""},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(e.username)+"("+Vue.toDisplayString(e.level)+") ",1)]),_:1})])]),Vue.createElementVNode("div",{class:"layout-header-trigger layout-header-trigger-min",onClick:t[4]||(t[4]=(...l)=>e.openSetting&&e.openSetting(...l))},[Vue.createVNode(y,{placement:"bottom-end"},{trigger:Vue.withCtx(()=>[Vue.createVNode(a,{size:"18",style:{"font-weight":"bold"}},{default:Vue.withCtx(()=>[Vue.createVNode(V)]),_:1})]),default:Vue.withCtx(()=>[Bt]),_:1})])])]),Vue.createVNode(B,{ref:"drawerSetting"},null,512)],64)}const Et=E(ct,[["render",Mt],["__scopeId","data-v-044d4dcd"]]);const bt=Vue.defineComponent({__name:"index",setup(e){const{getDarkTheme:t}=me(),{getNavMode:n,getNavTheme:o,getHeaderSetting:c,getMenuSetting:s,getMultiTabsSetting:r}=$(),d=F(),a=n,u=Vue.ref(!1),{mobileWidth:w,menuWidth:h}=Vue.unref(s),k=Vue.computed({get:()=>d.getIsMobile,set:_=>d.setIsMobile(_)}),f=Vue.computed(()=>{const{fixed:_}=Vue.unref(c);return _?"absolute":"static"}),y=Vue.computed(()=>{const _=d.menuSetting.mixMenu,m=L();return Vue.unref(a)!="horizontal-mix"?!0:!(Vue.unref(a)==="horizontal-mix"&&_&&m.meta.isRoot)}),S=Vue.computed(()=>{const{fixed:_}=Vue.unref(c);return _?"absolute":"static"}),V=Vue.computed(()=>Vue.unref(r).show),B=Vue.computed(()=>Vue.unref(r).fixed),l=Vue.computed(()=>["dark","header-dark"].includes(Vue.unref(o))),b=Vue.computed(()=>{const _=Vue.unref(o);return["light","header-dark"].includes(_)?Vue.unref(l):!Vue.unref(l)}),i=Vue.computed(()=>{const{minMenuWidth:_,menuWidth:m}=Vue.unref(s);return u.value?_:m}),p=Vue.computed(()=>"left"),v=Vue.computed({get:()=>k.value&&u.value,set:_=>u.value=_}),M=()=>{document.body.clientWidth<=w?k.value=!0:k.value=!1,u.value=!1},T=()=>{document.body.clientWidth<=950?u.value=!0:u.value=!1,M()};return Vue.onMounted(()=>{M(),window.addEventListener("resize",T),window.$loading=naive.useLoadingBar(),window.$loading.finish()}),(_,m)=>{const D=Vue.resolveComponent("n-layout-sider"),A=Vue.resolveComponent("n-drawer"),z=Vue.resolveComponent("n-layout-header"),R=Vue.resolveComponent("n-layout-content"),g=Vue.resolveComponent("n-back-top"),N=Vue.resolveComponent("n-layout");return Vue.openBlock(),Vue.createBlock(N,{class:"layout",position:Vue.unref(S),"has-sider":""},{default:Vue.withCtx(()=>[!Vue.unref(k)&&Vue.unref(y)&&(Vue.unref(a)==="vertical"||Vue.unref(a)==="horizontal-mix")?(Vue.openBlock(),Vue.createBlock(D,{key:0,"show-trigger":"bar",onCollapse:m[2]||(m[2]=C=>u.value=!0),position:Vue.unref(S),onExpand:m[3]||(m[3]=C=>u.value=!1),collapsed:u.value,"collapse-mode":"width","collapsed-width":64,width:Vue.unref(i),"native-scrollbar":!1,inverted:Vue.unref(l),class:"layout-sider"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(K),{collapsed:u.value},null,8,["collapsed"]),Vue.createVNode(Vue.unref(O),{collapsed:u.value,"onUpdate:collapsed":m[0]||(m[0]=C=>u.value=C),location:Vue.unref(p),"onUpdate:location":m[1]||(m[1]=C=>Vue.isRef(p)?p.value=C:null)},null,8,["collapsed","location"])]),_:1},8,["position","collapsed","width","inverted"])):Vue.createCommentVNode("",!0),Vue.createVNode(A,{show:Vue.unref(v),"onUpdate:show":m[5]||(m[5]=C=>Vue.isRef(v)?v.value=C:null),width:Vue.unref(h),placement:"left",class:"layout-side-drawer"},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(K),{collapsed:u.value},null,8,["collapsed"]),Vue.createVNode(Vue.unref(O),{onClickMenuItem:m[4]||(m[4]=C=>u.value=!1)})]),_:1},8,["show","width"]),Vue.createVNode(N,{inverted:Vue.unref(l)},{default:Vue.withCtx(()=>[Vue.createVNode(z,{inverted:Vue.unref(b),position:Vue.unref(f)},{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(Et),{collapsed:u.value,"onUpdate:collapsed":m[6]||(m[6]=C=>u.value=C),inverted:Vue.unref(l)},null,8,["collapsed","inverted"])]),_:1},8,["inverted","position"]),Vue.createVNode(R,{class:Vue.normalizeClass(["layout-content",{"layout-default-background":Vue.unref(t)===!1}])},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",{class:Vue.normalizeClass(["layout-content-main",{"layout-content-main-fix":Vue.unref(B),"fluid-header":Vue.unref(f)==="static"}])},[Vue.createElementVNode("div",{class:Vue.normalizeClass(["main-view",{"main-view-fix":Vue.unref(B),noMultiTabs:!Vue.unref(V),"mt-3":!Vue.unref(V)}])},[Vue.createVNode(Vue.unref(ke))],2)],2)]),_:1},8,["class"]),Vue.createVNode(g,{right:100})]),_:1},8,["inverted"])]),_:1},8,["position"])}}}),Dt=E(bt,[["__scopeId","data-v-0f95d1fd"]]);export{Dt as default};
