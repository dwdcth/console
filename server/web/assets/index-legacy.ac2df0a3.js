System.register(["./logo-legacy.7bfa377a.js","./vendor-legacy.9d0d38ef.js","./index-legacy.ee50fea4.js"],(function(e,a){"use strict";var t,o,c,u,i,r,l,d,n,s=document.createElement("style");return s.textContent=".view-account[data-v-4472f3fa]{display:flex;flex-direction:column;height:100vh;overflow:auto}.view-account-container[data-v-4472f3fa]{flex:1;padding:32px 0;width:384px;margin:0 auto}.view-account-top[data-v-4472f3fa]{padding:32px 0;text-align:center}.view-account-top-logo[data-v-4472f3fa]{display:flex;align-items:center;justify-content:center;height:64px;line-height:64px;overflow:hidden;white-space:nowrap}.view-account-top-logo img[data-v-4472f3fa]{width:auto;height:32px}.view-account-top-logo .title[data-v-4472f3fa]{font-size:18px;margin-bottom:0;margin-left:5px}.view-account-top-desc[data-v-4472f3fa]{font-size:14px;color:#808695}.view-account-other[data-v-4472f3fa]{width:100%}.view-account .default-color[data-v-4472f3fa],.view-account .default-color .ant-checkbox-wrapper[data-v-4472f3fa]{color:#515a6e}@media (min-width: 768px){.view-account[data-v-4472f3fa]{background-image:url("+new URL("login-bg-cddc8bc7.svg",a.meta.url).href+");background-repeat:no-repeat;background-position:50%;background-size:100%}.page-account-container[data-v-4472f3fa]{padding:32px 0 24px}}\n",document.head.appendChild(s),{setters:[e=>{t=e._},e=>{o=e.g,c=e.i,u=e.q,i=e.r},e=>{r=e._,l=e.P,d=e.c,n=e.g}],execute:function(){const a={class:"view-account"},s=(e=>(Vue.pushScopeId("data-v-4472f3fa"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("div",{class:"view-account-header"},null,-1))),f={class:"view-account-container"},v=Vue.createStaticVNode('<div class="view-account-top" data-v-4472f3fa><div class="view-account-top-logo" data-v-4472f3fa><img src="'+t+'" alt="" data-v-4472f3fa><h2 class="title" data-v-4472f3fa>Monibuca</h2></div><div class="view-account-top-desc" data-v-4472f3fa>流媒体在线管理</div></div>',1),p={class:"view-account-form"},V=Vue.createTextVNode(" 注册 ");e("default",r(Vue.defineComponent({__name:"index",setup(e){const t=Vue.ref(!1),r=Vue.ref("发送邮箱验证码"),g=Vue.ref(60),m=Vue.ref(),w=naive.useMessage(),h=Vue.ref(!1),x=l.BASE_REGISTER_NAME,y=Vue.reactive({password:"",mail:"",verifycode:""}),C={mail:{required:!0,message:"请输入邮箱",trigger:"blur"},password:{required:!0,message:"请输入密码",trigger:"blur"},verifycode:{required:!0,message:"请邮箱验证码",trigger:"blur"}},N=d(),_=o(),b=c(),k=e=>{e.preventDefault(),m.value.validate((async e=>{if(e)w.error("请填写正确信息");else{const{verifycode:e,password:a,mail:t}=y;w.loading("注册中..."),h.value=!0;const o={verifycode:e,password:a,mail:t};try{const e=await N.register(o);if(w.destroyAll(),0==e.code){const e=decodeURIComponent(b.query?.redirect||"/");w.success("注册成功，即将进入系统"),b.name===x?_.replace("/"):_.replace(e)}else w.info(e.msg||"登录失败")}finally{h.value=!1}}}))};function E(){if(y.mail){const e={mail:y.mail};n(e).then((()=>{w.info("验证码发送成功，请注意查收");const e=setInterval((()=>{t.value=!0,r.value=`(${g.value}秒)后重新发送`,g.value--,g.value<0&&(clearInterval(e),r.value="发送邮箱验证码",t.value=!1,g.value=10)}),1e3)}))}else w.info("请输入邮箱验证码")}return(e,o)=>{const c=Vue.resolveComponent("n-icon"),l=Vue.resolveComponent("n-input"),d=Vue.resolveComponent("n-form-item"),n=Vue.resolveComponent("n-button"),g=Vue.resolveComponent("n-form");return Vue.openBlock(),Vue.createElementBlock("div",a,[s,Vue.createElementVNode("div",f,[v,Vue.createElementVNode("div",p,[Vue.createVNode(g,{ref_key:"formRef",ref:m,"label-placement":"left",size:"large",model:y,rules:C},{default:Vue.withCtx((()=>[Vue.createVNode(d,{path:"mail"},{default:Vue.withCtx((()=>[Vue.createVNode(l,{value:y.mail,"onUpdate:value":o[0]||(o[0]=e=>y.mail=e),placeholder:"请输入邮箱帐号"},{prefix:Vue.withCtx((()=>[Vue.createVNode(c,{size:"18",color:"#808695"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(u))])),_:1})])),_:1},8,["value"])])),_:1}),Vue.createVNode(d,{path:"verifycode"},{default:Vue.withCtx((()=>[Vue.createVNode(l,{value:y.verifycode,"onUpdate:value":o[1]||(o[1]=e=>y.verifycode=e),placeholder:"请输入邮箱验证码"},{prefix:Vue.withCtx((()=>[Vue.createVNode(c,{size:"18",color:"#808695"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(u))])),_:1})])),_:1},8,["value"]),Vue.createVNode(n,{type:"success",onClick:E,disabled:t.value},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(r.value),1)])),_:1},8,["disabled"])])),_:1}),Vue.createVNode(d,{path:"password"},{default:Vue.withCtx((()=>[Vue.createVNode(l,{value:y.password,"onUpdate:value":o[2]||(o[2]=e=>y.password=e),type:"password",showPasswordOn:"click",placeholder:"请输入密码"},{prefix:Vue.withCtx((()=>[Vue.createVNode(c,{size:"18",color:"#808695"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(i))])),_:1})])),_:1},8,["value"])])),_:1}),Vue.createVNode(d,null,{default:Vue.withCtx((()=>[Vue.createVNode(n,{type:"primary",onClick:k,size:"large",loading:h.value,block:""},{default:Vue.withCtx((()=>[V])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])])])}}}),[["__scopeId","data-v-4472f3fa"]]))}}}));
