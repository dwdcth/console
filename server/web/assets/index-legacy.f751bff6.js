System.register(["./index-legacy.4f2ba292.js","./TableAction-legacy.c2cce013.js","./index-legacy.d1f2a5dd.js","./vendor-legacy.9d0d38ef.js","./useDesignSetting-legacy.ecb6b3a9.js","./index-legacy.ee50fea4.js"],(function(e,t){"use strict";var a,u,o,l,n,r,i;return{setters:[e=>{a=e._},e=>{u=e.B},e=>{o=e.l,l=e.n,n=e.o,r=e.q},e=>{i=e.i},null,null],execute:function(){const t=Vue.createTextVNode("开始录制"),c=Vue.createTextVNode("开始录制");e("default",Vue.defineComponent({__name:"index",setup(e){const V=Vue.ref(""),d=Vue.ref("flv"),s=naive.useMessage(),v=Vue.ref(!1),{params:p}=i(),h=[{title:"ID",key:"ID"},{title:"Type",key:"Type",width:150},{title:"开始时间",render:e=>Vue.h(naive.NTime,{type:"relative",time:new Date(e.StartTime)}),width:150}],m={title:"操作",key:"action",width:100,render:e=>Vue.h(naive.NButton,{type:"error",size:"small",onClick:()=>{l(p.id,e.ID).then((e=>{"ok"==e?s.success("停止录制成功"):s.error("停止录制失败")})).catch((e=>{s.error(e)}))}},["停止"])},w=[{title:"文件",key:"Path"},{title:"大小",render:e=>{return Vue.h("text",(t=e.Size)>1048576?(t/1024/1024).toFixed(2)+" MB":t>1024?(t/1024).toFixed(2)+" KB":t.toString()+" B");var t},width:100},{title:"时长",key:"Duration",width:100}],x=[],y=Vue.ref([]),C=Vue.ref([]);function f(){n(p.id).then((e=>{C.value=e||[],C.value=C.value.sort(((e,t)=>e.ID.localeCompare(t.ID)))}))}return o(p.id).then((e=>{y.value=e||[],y.value=y.value.sort(((e,t)=>e.Path.localeCompare(t.Path)))})),(e,o)=>{const l=Vue.resolveComponent("n-tab-pane"),n=Vue.resolveComponent("n-tabs"),i=Vue.resolveComponent("n-layout-content"),g=Vue.resolveComponent("n-radio-button"),k=Vue.resolveComponent("n-radio-group"),N=Vue.resolveComponent("n-input"),b=Vue.resolveComponent("n-modal"),_=Vue.resolveComponent("n-layout");return Vue.openBlock(),Vue.createBlock(_,null,{default:Vue.withCtx((()=>[Vue.createVNode(i,{"content-style":"padding: 24px;"},{default:Vue.withCtx((()=>[Vue.createVNode(n,{type:"line",animated:""},{default:Vue.withCtx((()=>[Vue.createVNode(l,{name:"filelist",tab:"录像文件列表"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(u),{title:"录像文件列表",class:"table","row-class-name":"row",columns:w,dataSource:y.value,pagination:{simple:!0},actionColumn:x,"row-key":e=>e.Name,"scroll-x":1090},{toolbar:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(naive.NButton),{onClick:o[0]||(o[0]=e=>v.value=!0)},{default:Vue.withCtx((()=>[t])),_:1})])),_:1},8,["dataSource","row-key"])])),_:1}),Vue.createVNode(l,{name:"recording",tab:"正在录制列表"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(u),{title:"正在录制的流列表",class:"table","row-class-name":"row",columns:h,dataSource:C.value,pagination:{simple:!0},actionColumn:m,"row-key":e=>e.ID,"scroll-x":1090},{toolbar:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(a),{onTick:f,style:{padding:"0 20px 0 0"}}),Vue.createVNode(Vue.unref(naive.NButton),{onClick:o[1]||(o[1]=e=>v.value=!0)},{default:Vue.withCtx((()=>[c])),_:1})])),_:1},8,["dataSource","row-key"])])),_:1})])),_:1})])),_:1}),Vue.createVNode(b,{show:v.value,"onUpdate:show":o[4]||(o[4]=e=>v.value=e),style:{width:"600px"},title:"开始录制",bordered:!1,size:"huge",preset:"dialog","positive-text":"确认","negative-text":"算了",onPositiveClick:o[5]||(o[5]=e=>{r(p.id,V.value,d.value).then((e=>{e?s.success("开始录制成功"):s.error("开始录制失败")})).catch((e=>{s.error(e)}))})},{default:Vue.withCtx((()=>[Vue.createVNode(k,{value:d.value,"onUpdate:value":o[2]||(o[2]=e=>d.value=e),name:"radiobuttongroup1"},{default:Vue.withCtx((()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(["flv","mp4","hls","raw"],(e=>Vue.createVNode(g,{key:e,value:e,label:e},null,8,["value","label"]))),64))])),_:1},8,["value"]),Vue.createVNode(N,{value:V.value,"onUpdate:value":o[3]||(o[3]=e=>V.value=e),placeholder:"输入需要录制的StreamPath"},null,8,["value"])])),_:1},8,["show"])])),_:1})}}}))}}}));
